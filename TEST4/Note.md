### **题目：基于51单片机的智能交通灯控制系统**

#### **任务描述：**
设计并实现一个基于51单片机的智能交通灯控制系统，模拟十字路口的交通灯控制。要求如下：

1. **基本功能：**
    - 十字路口有两条道路：A路和B路。
    - A路和B路的交通灯分别由红、黄、绿三色LED灯组成。//三种状态，0绿色 1黄色 2红色
    - 默认情况下，A路绿灯亮30秒，B路红灯亮30秒；然后A路黄灯闪烁3秒，B路红灯保持；接着A路红灯亮30秒，B路绿灯亮30秒；最后B路黄灯闪烁3秒，A路红灯保持，循环往复。//0 30s 

2. **扩展功能：**
    - 增加一个按键，用于模拟紧急情况。当按键按下时，A路和B路的红灯同时亮起，其他灯熄灭，持续10秒，之后恢复正常交通灯控制。//3独立模式
    - 增加一个蜂鸣器，在黄灯闪烁时发出“滴-滴-滴”的提示音。//中断
    - 增加一个数码管或LCD显示屏，实时显示当前交通灯的剩余时间。//2位的显示

3. **创新功能（可选）：**
    - 设计一个自适应模式，根据交通流量动态调整绿灯时间（可以通过模拟传感器输入实现）。//温度传感器来模拟车流,温度越高代表车流越多
    - 增加夜间模式，当检测到环境光较暗时，黄灯持续闪烁，其他灯熄灭。//AD DA

#### **硬件要求：**
- 51单片机（如STC89C52）
- 按键
- 蜂鸣器
- 数码管或LCD显示屏
- 光敏电阻（用于夜间模式，可选），以上可直接使用开发板上的模块。
- 红、黄、绿LED灯若干(限流电阻阻值1kΩ，1/8W插件色环电阻；发光二极管选用直径3mm，pin间距2.25mm；)，红绿灯模板，要求自行设计电路图，打样电路板焊接，与开发板通过杜邦线连接。

#### **软件要求：**
- 使用C语言编写程序。
- 使用定时器中断实现精确计时。
- 程序结构清晰，注释完整。

#### **评分标准：**
1. **基本功能实现（50分）：**
    - 交通灯正常循环控制（30分）。  O
    - 紧急情况处理（10分）。    O
    - 黄灯提示音（10分）。  O

2. **扩展功能实现（30分）：**
    - 数码管或LCD显示时间（15分）。 O
    - 夜间模式或自适应模式（15分，可选）。  Working

3. **创新性（20分）：**
    - 设计思路新颖，功能实用（10分）。
    - 代码结构清晰，注释完整（10分）。

#### **提交要求：**
- 提交完整的程序代码和电路设计图。
- 提交一份简要的设计报告，说明设计思路、功能实现方法和创新点。

---

### **题目解析：**
1. **基础知识考察：**
    - GPIO控制（LED灯、按键）。
    - 定时器中断（精确计时）。
    - 蜂鸣器控制（PWM或简单开关控制）。
    - 数码管或LCD显示（外设驱动）。

2. **综合能力考察：**
    - 多任务处理（交通灯控制、按键检测、显示更新）。
    - 中断使用（定时器中断、外部中断）。
    - 模块化编程（将功能分解为独立模块）。

3. **创新能力考察：**
    - 通过扩展功能和创新功能，考察学生的独立思考和解决问题的能力。